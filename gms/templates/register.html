<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Registration</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/style.css') }}" rel="stylesheet" type="text/css" />
  </head>
  <body class="dark-mode">
    <script src="script.js"></script>
    <button class="btn-toggle"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTI3MS4xMDIgNDA4LjY3NGMtMTAuNzU5IDIuODk2LTIxLjUxOCA0LjM2NC0zMS45NzYgNC4zNjQtNjcuNzggMC0xMjIuOTI0LTU1LjE0My0xMjIuOTI0LTEyMi45MjMgMC0yMC4wNzUgNC43NTEtMzkuMjg2IDE0LjEyMy01Ny4wOTkgMi43NzYtNS4yNzcgMi4xNjMtMTEuNjk3LTEuNTYyLTE2LjM1NC0zLjcyNS00LjY1Ni05Ljg1NC02LjY2Ni0xNS42MTItNS4xMTQtNjYuNjIyIDE3LjkzLTExMy4xNTEgNzguNTk2LTExMy4xNTEgMTQ3LjUyOCAwIDg0LjMyMyA2OC42MDIgMTUyLjkyNCAxNTIuOTI0IDE1Mi45MjQgNTYuOTI3IDAgMTA4Ljc5MS0zMS4zNjYgMTM1LjM1Mi04MS44NTggMi43NzYtNS4yNzcgMi4xNjMtMTEuNjk3LTEuNTYyLTE2LjM1NC0zLjcyNi00LjY1Ni05Ljg1My02LjY2NC0xNS42MTItNS4xMTR6bS0xMTguMTc4IDczLjMyNmMtNjcuNzggMC0xMjIuOTI0LTU1LjE0NC0xMjIuOTI0LTEyMi45MjQgMC00NC4yNTMgMjMuODY5LTg0LjI2OSA2MC43NzItMTA1LjkyMi0zLjAxOCAxMi4wNzQtNC41NyAyNC41MS00LjU3IDM2Ljk2MSAwIDg0LjMyMiA2OC42MDIgMTUyLjkyMyAxNTIuOTI0IDE1Mi45MjMgMS4xOTEgMCAyLjM4Ni0uMDE1IDMuNTgyLS4wNDUtMjIuOTE3IDI0LjU4OC01NS4xODcgMzkuMDA3LTg5Ljc4NCAzOS4wMDd6Ii8+PHBhdGggZD0ibTMxOC4wOTYgMjk1LjcxMiAzOC45MDQtMTEuODQ5IDM4LjkwMiAxMS44NWMxLjQ0Mi40MzkgMi45MTMuNjUyIDQuMzY5LjY1MiA0LjYyMSAwIDkuMDg2LTIuMTQxIDExLjk3LTUuOTZsMjQuNTA5LTMyLjQ0NSAzOC40MjItMTMuMzAxYzUuOTM4LTIuMDU2IDkuOTY1LTcuNTk1IDEwLjA5LTEzLjg3OGwuODA0LTQwLjY1OCAyMy4yNDItMzMuMzY3YzMuNTg5LTUuMTUyIDMuNTg5LTExLjk5NSAwLTE3LjE0N2wtMjMuMjQyLTMzLjM2NS0uODAzLTQwLjY1N2MtLjEyNC02LjI4My00LjE1MS0xMS44MjMtMTAuMDktMTMuODc4bC0zOC40MjItMTMuMzAyLTI0LjUwNy0zMi40NDdjLTMuNzk0LTUuMDIyLTEwLjMyLTcuMTQzLTE2LjM0LTUuMzA4bC0zOC45MDQgMTEuODUtMzguOTAxLTExLjg1Yy02LjAyMi0xLjgzNC0xMi41NDcuMjg2LTE2LjM0IDUuMzA4bC0yNC41MDkgMzIuNDQ1LTM4LjQyMiAxMy4zMDFjLTUuOTM4IDIuMDU2LTkuOTY1IDcuNTk1LTEwLjA5IDEzLjg3OGwtLjgwNCA0MC42NTgtMjMuMjQyIDMzLjM2N2MtMy41ODkgNS4xNTItMy41ODkgMTEuOTk1IDAgMTcuMTQ3bDIzLjI0MiAzMy4zNjQuODAzIDQwLjY1OGMuMTI0IDYuMjgzIDQuMTUxIDExLjgyMyAxMC4wOSAxMy44NzhsMzguNDIyIDEzLjMwMiAyNC41MDggMzIuNDQ2YzMuNzk0IDUuMDIyIDEwLjMxOCA3LjE0MiAxNi4zMzkgNS4zMDh6bS0xOS42Ni01OS40NzZjLTEuNzkzLTIuMzc0LTQuMjUxLTQuMTYxLTcuMDYyLTUuMTM0bC0zMi44NS0xMS4zNzMtLjY4Ni0zNC43NDdjLS4wNTktMi45NjQtLjk5NC01Ljg0NS0yLjY4OS04LjI3OGwtMTkuODY4LTI4LjUyMiAxOS44NjktMjguNTI0YzEuNjk1LTIuNDMzIDIuNjMtNS4zMTMgMi42ODktOC4yNzdsLjY4Ny0zNC43NDggMzIuODUtMTEuMzcyYzIuODExLS45NzMgNS4yNy0yLjc2IDcuMDYyLTUuMTM0bDIwLjk0My0yNy43MjUgMzMuMjQ5IDEwLjEyOGMyLjg1Ljg2OCA1Ljg5My44NjggOC43NDIgMGwzMy4yNS0xMC4xMjggMjAuOTQzIDI3LjcyNmMxLjc5MyAyLjM3NCA0LjI1MSA0LjE2MSA3LjA2MiA1LjEzNGwzMi44NSAxMS4zNzMuNjg2IDM0Ljc0N2MuMDU5IDIuOTY0Ljk5NCA1Ljg0NSAyLjY4OSA4LjI3OGwxOS44NjkgMjguNTIyLTE5Ljg2OSAyOC41MjRjLTEuNjk1IDIuNDMzLTIuNjMgNS4zMTMtMi42ODkgOC4yNzdsLS42ODcgMzQuNzQ3LTMyLjg1IDExLjM3MmMtMi44MTEuOTczLTUuMjcgMi43Ni03LjA2MiA1LjEzNGwtMjAuOTQzIDI3LjcyNS0zMy4yNDktMTAuMTI4Yy0xLjQyNS0uNDM0LTIuODk4LS42NTEtNC4zNzEtLjY1MXMtMi45NDYuMjE3LTQuMzcxLjY1MWwtMzMuMjUgMTAuMTI3eiIvPjxwYXRoIGQ9Im00MzcgMTQ4LjE4M2MwLTQ0LjExMi0zNS44ODgtODAtODAtODBzLTgwIDM1Ljg4OC04MCA4MCAzNS44ODggODAgODAgODAgODAtMzUuODg4IDgwLTgwem0tMTMwIDBjMC0yNy41NyAyMi40My01MCA1MC01MHM1MCAyMi40MyA1MCA1MC0yMi40MyA1MC01MCA1MC01MC0yMi40My01MC01MHoiLz48cGF0aCBkPSJtNDY3LjYwNiAzMjUuMzk0Yy01Ljg1Ny01Ljg1OC0xNS4zNTUtNS44NTgtMjEuMjEzIDBsLTQwIDQwYy01Ljg1OCA1Ljg1OC01Ljg1OCAxNS4zNTUgMCAyMS4yMTMgNS44NTcgNS44NTggMTUuMzU1IDUuODU4IDIxLjIxMyAwbDEyLjg5MS0xMi44OTFjLTguNDQ0IDQ5LjQ5LTUxLjYzNiA4Ny4yODQtMTAzLjQ5NyA4Ny4yODRoLTIwYy04LjI4NCAwLTE1IDYuNzE2LTE1IDE1czYuNzE2IDE1IDE1IDE1aDIwYzY5LjI1NCAwIDEyNi40ODQtNTIuNDIgMTM0LjEyNC0xMTkuNjYzbDE1LjI3IDE1LjI3YzIuOTI4IDIuOTI5IDYuNzY3IDQuMzkzIDEwLjYwNiA0LjM5M3M3LjY3OC0xLjQ2NCAxMC42MDYtNC4zOTRjNS44NTgtNS44NTggNS44NTgtMTUuMzU1IDAtMjEuMjEzeiIvPjxwYXRoIGQ9Im00NC4zOTQgMTg2LjYwNmMyLjkyOCAyLjkzIDYuNzY3IDQuMzk0IDEwLjYwNiA0LjM5NHM3LjY3OC0xLjQ2NCAxMC42MDYtNC4zOTRsNDAtNDBjNS44NTgtNS44NTggNS44NTgtMTUuMzU1IDAtMjEuMjEzLTUuODU3LTUuODU4LTE1LjM1NS01Ljg1OC0yMS4yMTMgMGwtMTIuODkxIDEyLjg5MWM4LjQ0NS00OS40OSA1MS42MzctODcuMjg0IDEwMy40OTgtODcuMjg0aDIwYzguMjg0IDAgMTUtNi43MTYgMTUtMTVzLTYuNzE2LTE1LTE1LTE1aC0yMGMtNjkuMjU0IDAtMTI2LjQ4NCA1Mi40Mi0xMzQuMTI0IDExOS42NjNsLTE1LjI3LTE1LjI3Yy01Ljg1Ny01Ljg1OC0xNS4zNTUtNS44NTgtMjEuMjEzIDBzLTUuODU4IDE1LjM1NSAwIDIxLjIxM3oiLz48L2c+PC9zdmc+" />
      Toggle Mode</button>
    <div class="container">
      <div class="row">
        <div class="col-xs-3 mx-auto">
          <div class="card">
            <form class="login-space" action="{{url_for('register')}}" method="post">
              <h1>Create Account</h1>
              <div class="form-group">
                <input type="fname" class="form-control" name="fname" placeholder="First Name">
              </div>
              <div class="form-group">
                <input type="lname" class="form-control" name="lname" placeholder="Last Name">
              </div>
              <div class="form-group">
                <input type="email" class="form-control" name="email" placeholder="Email">
              </div>
              <div class="form-group">
                <input type="password" class="form-control" name="password" placeholder="Password">
              </div>
              <div class="form-group">
                <input type="dept" class="form-control" name="dept" placeholder="dept">
              </div>
              <p style="font-weight: 700;">You Are A...</p>
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="userclass" value="researcher" onclick="delete_fields('gs');add_fields('gs');">A Grantseeker
                </label>
              </div>
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="userclass" value="admin" onclick="delete_fields('admin');add_fields('admin');">An Admin
                </label>
              </div>
              <div class="form-check-inline">
                <label class="form-check-label">
                  <input type="radio" class="form-check-input" name="userclass" value="reviewer" onclick="delete_fields('re')">A Reviewer
                </label>
              </div>
	            <div class ='form-group' id='check'></div>
                <button type ="submit" class="btn btn-default btn-lg btn-block" id="btn" value="REGISTER">REGISTER</button>
            </form>
            <a href="/" class="reg-log">Already a member? Login Here</a>
          </div>
        </div>
      </div>
    </div>
	<script>
	//adds new form fields for the grant seeker.
	//to avoid error, one radio button must be checked by default
	function add_fields(u) {

		if ( $('#label').length > 0){
			return false;
		}

		if(u == 'gs') {
		//check if fields exist
		var $label = $("<div class='form-group' id='label' style='font-weight: 700;'><p>Just a little more info...</p></div>");
		var $dept = $("<div class='form-group' id='dept'><input type='dept' class='form-control' name='dept' placeholder='Department'></div>");
		var $time = $("<div class='form-check-inline' name='time'><label class='form-check-label'><input type='radio' class='form-check-input' name='status' value='full'>Full Time</label></div><div class='form-check-inline'><label class='form-check-label' name='time'><input type='radio' class='form-check-input' name='status' value='part'>Part Time</label></div>");
		($label).insertAfter('#check');
		($dept).insertAfter('#label');
		($time).insertAfter('#dept');
		}
    else if (u == 'admin') {
      var $label = $("<div class='form-group' id='label'><p style='font-weight: 700;'>Just a little more info...</p></div>");
      var $num = $("<div class='form-group' id='num'><input type='num' class='form-control' name='num' placeholder='ID Number'></div>");
      ($label).insertAfter('#check');
      ($num).insertAfter('#label');
    }

	}

	//removes fields when you click another user type
	function delete_fields(u) {
    if(u == 'gs'){
      $('#num').remove();
    }
    else if (u == 'admin') {
      $('#label').remove();
      $('#dept').remove();
      $('[name="time"]').remove();
    }
    else {
      $('#label').remove();
      $('#dept').remove();
      $('#num').remove();
      $('[name="time"]').remove();
    }

	}
    const btn = document.querySelector(".btn-toggle");
    const currentTheme = localStorage.getItem("theme");
    if (currentTheme == "light") {
      document.body.classList.add("light-mode");
    }

    btn.addEventListener("click", function () {
      document.body.classList.toggle("light-mode");

      let theme = "dark";
      if (document.body.classList.contains("light-mode")) {
        theme = "light";
      }
      localStorage.setItem("theme", theme);
        });

	</script>
  </body>
</html>
