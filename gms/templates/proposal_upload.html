<DOCTYPE! html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>GMS</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/js/all.js" integrity="sha256-2JRzNxMJiS0aHOJjG+liqsEOuBb6++9cY4dSOyiijX4=" crossorigin="anonymous"></script>

    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100&display=swap" rel="stylesheet">
    <link href="{{ url_for('static', filename='styles/style.css') }}" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.15.2/css/all.css" integrity="sha384-vSIIfh2YWi9wW0r9iZe7RJPrKwp6bG+s9QZMoITbCckVJqGCCRhc+ccxNcdpHuYu" crossorigin="anonymous">
  </head>
<style>
  label {

    width: : 40px;
    text-align: left;
    color: rgb(255,255,255,.85);
    font-size: 1.55em;
    padding-right: 60%;
    padding-bottom: 15px;
  }
  .form-group input:focus {

    color: rgb(255, 255, 255);
  }
  .form-group input {
    color: rgb(255, 255, 255);
  }
  .form-group textarea{
    color: rgb(255,255,255);
    background-color: inherit;

  }
  .form-group textarea:focus {
    background-color: rgba(0, 0, 0, 0.45);
    color: rgb(255, 255, 255);
  }

</style>

  <body>

    <div class="sidenav">
      <a href="#">Admin</a>
      <a href="#">Dashboard</a>
      <a href="#">Messages</a>
      <a href="{{ url_for('grants') }}">Grants</a>
      <a class="bottom" href="{{ url_for('logout') }}">Logout</a>
    </div>

    <div class="container">

      {% block content %}

      {% for message in get_flashed_messages() %}
      <div class="alert alert-warning alert-dismissable" style="color:rgb(0,0,0); position:absolute; top:100px; font-size: 1.5em;">
          <button onclick=delete_flash(this) type="button" class="close" data-dismiss="alert">&times;</button>
          {{ message }}
      </div>
      {% endfor %}

      {% block page_content %}{% endblock %}

      {% endblock %}


      <div class="row">
	<label>Application Info for Grant {{ id }}</label>
        <div class="col-md-4" id="contact-labels">
                  <label>Name</label>
                  <label>FT/PT</label>
                  <label>Department</label>
                  <label>Email</label>
		  <label>Amount($)</label>
        </div>
        <div class="col-md-8" id="applicant-form">
    <form action="{{url_for('pro_submit')}}", method='post' enctype='multipart/form-data'>


        <div class="form-group">
          <input type="name" class="form-control" id="name" name="name">
          <input type="text" class="form-control" id="grant" name="grant" value="{{id}}" style="display:none;">
        </div>

	<div class="form-group">
	<div class="form-check form-check-inline">
          <input type="radio" class="form-check-input" id="full" name="ftpt" value="full">
	  <label class="form-check-label" for="full">Full-Time</label>
	</div>
	<div class="form-check form-check-inline">
	  <input type="radio" class="form-check-input" id="part" name="ftpt" value="part">
	  <label class="form-check-label" for="part">Part-Time</label>
	</div>
	</div>

        <div class="form-group">
          <input type="text" class="form-control" name="department">
	</div>

	<div class="form-group">
	  <input type="text" class="form-control" name="email">
	</div>

	<div class="form-group">
	  <input type="number" class="form-control" name="request">
	</div>

      </div>
</div>

    <div class="row">
	<label>Proposal</label>
	<div class="col-md-4" id="proposal-labels">
		<label>Title</label>
		<label>Summary</label>
		<label>Needs</label>
		<label>Goals</label>
		<label>Timeline</label>
		<label>Budget</label>
	</div>
	<div class="col-md-8" id="proposal-form">

	<div class="form-group">
	  <input type="name" class="form-control" id="title" name="title">
	</div>

	<div class="form-group">
	  <textarea rows="1" class="form-control" id="summary" name="summary"></textarea>
	  <div><p id='summary-count'></p></div>
	</div>

	<div class="form-group">
	  <textarea rows="1" class="form-control" id="needs" name="needs"></textarea>
	  <div><p id='needs-count'></p></div>
	</div>

	<div class="form-group">
	  <textarea rows="2" class="form-control" id="goals" name="goals"></textarea>
	  <div><p id='goals-count'></p></div>
	</div>

	<div class="form-group">
	  <textarea rows="2" class="form-control" id="timeline" name="timeline"></textarea>
	</div>

	<div class="form-group">
	  <textarea rows="2" class="form-control" id="budget" name="budget"></textarea>
	</div>

	<div class="form-group">
	  <button type="submit" class="btn btn-default btn-lg btn-block" id="btn" value="submit">Submit Proposal</button>
	</div>
	</div>
</div>

  </body>
</html>


<script>
	
function delete_flash(flash){
    $(flash).parent().remove()
}

$(function() {
  $('#datetimepicker1').datetimepicker();
});

//updates character count, event handler
function update_key(tag, max){
    var count = tag.val().length + 1;
    if(count > max){
        var val = tag.val();
	var removed = val.substring(0, val.length-1);
	tag.val(removed);
    }
    else {
    document.getElementById(tag.attr('id') + '-count').innerHTML = count + "/" + max;
    }
}

//updates character count on keydown, sample max of 300 chars
$('#summary, #needs, #goals').keydown(function() {
    var max = 300;
    update_key($(this), max);
    console.log($(this).attr('id'));
});



</script>
