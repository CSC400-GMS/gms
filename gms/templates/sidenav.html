<style>
  .dark-mode {
  --divColor: rgba(0, 0, 0, 0.5);
  --contrastText: antiquewhite;
  --invertColor: invert(1);
}
.light-mode {
  --divColor: white;
  --contrastText:rgb(65, 65, 65);
  --invertColor: invert(0);
}

.sidenav {
  margin: 0;
  padding: 0;
  width: 15%;
  height: 100%;
  position: fixed;
  background-color: var(--divColor);
  overflow: auto;
  display: flex;
  flex-direction: column;
  z-index: 1;
}

.sidenav h2 {
  padding: 15px;
  color: var(--contrastText);
  display: block;
  font-weight: 900;
}

.sidenav a {
  padding: 15px;
  text-decoration: none;
  font-size: 25px;
  color: var(--contrastText);
  font-weight: 400;
  display: block;
}

.sidenav a:hover, a:active {
  background-color: rgba(0, 0, 0, 0.1);
  color: rgb(255, 72, 0);
}

button {
  background-color: transparent;
  color: var(--contrastText);
  font-weight: 400;
  border: none;
}

.btn-toggle img {
  filter: var(--invertColor);
  width: 20px;
}

.bottom {
  align-self: flex-end;
}

#bottom-logout {
  position: absolute;
  display: inline-block;
  bottom: 0;
  left: 0;
}

#bottom-setting {
  position: absolute;
  display: inline-block;
  bottom: 5;
  right: 15;    
}

.sidenav a:hover:active{
  background-color: rgba(0, 0, 0, 0.1);
  color: rgb(255, 72, 0);
}

@media screen and (max-width: 800px) {
  .sidenav {
    flex-direction: row;
    width: 100%;
    height: auto;
    position: relative;
    overflow: hidden;
  }
  
}

@media screen and (max-width: 800px) {
  .sidenav {
    flex-wrap: wrap;
    flex-direction: column;
    } 

  .sidenav h2, a {
    text-align: center;
    float: none;
  }
  .bottom {
    align-self: center;
  }
}

</style>


<div class="sidenav">
{% if current_user.is_authenticated %}
    <h2>{{ current_user.account|title }}</h2>
{% endif %}
    <a href="{{ url_for('dashboard') }}">Dashboard</a>
    <a href="{{ url_for('grants') }}">Grants</a>
    <a class="bottom" id="bottom-logout" href="{{ url_for('logout') }}">Logout </a>
    <a class="bottom" id="bottom-setting" href="{{ url_for('account') }}"><i class="fas fa-cog"></i></a>
    <button class="btn-toggle"><img src="data:image/svg+xml;base64,PHN2ZyBpZD0iQ2FwYV8xIiBlbmFibGUtYmFja2dyb3VuZD0ibmV3IDAgMCA1MTIgNTEyIiBoZWlnaHQ9IjUxMiIgdmlld0JveD0iMCAwIDUxMiA1MTIiIHdpZHRoPSI1MTIiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGc+PHBhdGggZD0ibTI3MS4xMDIgNDA4LjY3NGMtMTAuNzU5IDIuODk2LTIxLjUxOCA0LjM2NC0zMS45NzYgNC4zNjQtNjcuNzggMC0xMjIuOTI0LTU1LjE0My0xMjIuOTI0LTEyMi45MjMgMC0yMC4wNzUgNC43NTEtMzkuMjg2IDE0LjEyMy01Ny4wOTkgMi43NzYtNS4yNzcgMi4xNjMtMTEuNjk3LTEuNTYyLTE2LjM1NC0zLjcyNS00LjY1Ni05Ljg1NC02LjY2Ni0xNS42MTItNS4xMTQtNjYuNjIyIDE3LjkzLTExMy4xNTEgNzguNTk2LTExMy4xNTEgMTQ3LjUyOCAwIDg0LjMyMyA2OC42MDIgMTUyLjkyNCAxNTIuOTI0IDE1Mi45MjQgNTYuOTI3IDAgMTA4Ljc5MS0zMS4zNjYgMTM1LjM1Mi04MS44NTggMi43NzYtNS4yNzcgMi4xNjMtMTEuNjk3LTEuNTYyLTE2LjM1NC0zLjcyNi00LjY1Ni05Ljg1My02LjY2NC0xNS42MTItNS4xMTR6bS0xMTguMTc4IDczLjMyNmMtNjcuNzggMC0xMjIuOTI0LTU1LjE0NC0xMjIuOTI0LTEyMi45MjQgMC00NC4yNTMgMjMuODY5LTg0LjI2OSA2MC43NzItMTA1LjkyMi0zLjAxOCAxMi4wNzQtNC41NyAyNC41MS00LjU3IDM2Ljk2MSAwIDg0LjMyMiA2OC42MDIgMTUyLjkyMyAxNTIuOTI0IDE1Mi45MjMgMS4xOTEgMCAyLjM4Ni0uMDE1IDMuNTgyLS4wNDUtMjIuOTE3IDI0LjU4OC01NS4xODcgMzkuMDA3LTg5Ljc4NCAzOS4wMDd6Ii8+PHBhdGggZD0ibTMxOC4wOTYgMjk1LjcxMiAzOC45MDQtMTEuODQ5IDM4LjkwMiAxMS44NWMxLjQ0Mi40MzkgMi45MTMuNjUyIDQuMzY5LjY1MiA0LjYyMSAwIDkuMDg2LTIuMTQxIDExLjk3LTUuOTZsMjQuNTA5LTMyLjQ0NSAzOC40MjItMTMuMzAxYzUuOTM4LTIuMDU2IDkuOTY1LTcuNTk1IDEwLjA5LTEzLjg3OGwuODA0LTQwLjY1OCAyMy4yNDItMzMuMzY3YzMuNTg5LTUuMTUyIDMuNTg5LTExLjk5NSAwLTE3LjE0N2wtMjMuMjQyLTMzLjM2NS0uODAzLTQwLjY1N2MtLjEyNC02LjI4My00LjE1MS0xMS44MjMtMTAuMDktMTMuODc4bC0zOC40MjItMTMuMzAyLTI0LjUwNy0zMi40NDdjLTMuNzk0LTUuMDIyLTEwLjMyLTcuMTQzLTE2LjM0LTUuMzA4bC0zOC45MDQgMTEuODUtMzguOTAxLTExLjg1Yy02LjAyMi0xLjgzNC0xMi41NDcuMjg2LTE2LjM0IDUuMzA4bC0yNC41MDkgMzIuNDQ1LTM4LjQyMiAxMy4zMDFjLTUuOTM4IDIuMDU2LTkuOTY1IDcuNTk1LTEwLjA5IDEzLjg3OGwtLjgwNCA0MC42NTgtMjMuMjQyIDMzLjM2N2MtMy41ODkgNS4xNTItMy41ODkgMTEuOTk1IDAgMTcuMTQ3bDIzLjI0MiAzMy4zNjQuODAzIDQwLjY1OGMuMTI0IDYuMjgzIDQuMTUxIDExLjgyMyAxMC4wOSAxMy44NzhsMzguNDIyIDEzLjMwMiAyNC41MDggMzIuNDQ2YzMuNzk0IDUuMDIyIDEwLjMxOCA3LjE0MiAxNi4zMzkgNS4zMDh6bS0xOS42Ni01OS40NzZjLTEuNzkzLTIuMzc0LTQuMjUxLTQuMTYxLTcuMDYyLTUuMTM0bC0zMi44NS0xMS4zNzMtLjY4Ni0zNC43NDdjLS4wNTktMi45NjQtLjk5NC01Ljg0NS0yLjY4OS04LjI3OGwtMTkuODY4LTI4LjUyMiAxOS44NjktMjguNTI0YzEuNjk1LTIuNDMzIDIuNjMtNS4zMTMgMi42ODktOC4yNzdsLjY4Ny0zNC43NDggMzIuODUtMTEuMzcyYzIuODExLS45NzMgNS4yNy0yLjc2IDcuMDYyLTUuMTM0bDIwLjk0My0yNy43MjUgMzMuMjQ5IDEwLjEyOGMyLjg1Ljg2OCA1Ljg5My44NjggOC43NDIgMGwzMy4yNS0xMC4xMjggMjAuOTQzIDI3LjcyNmMxLjc5MyAyLjM3NCA0LjI1MSA0LjE2MSA3LjA2MiA1LjEzNGwzMi44NSAxMS4zNzMuNjg2IDM0Ljc0N2MuMDU5IDIuOTY0Ljk5NCA1Ljg0NSAyLjY4OSA4LjI3OGwxOS44NjkgMjguNTIyLTE5Ljg2OSAyOC41MjRjLTEuNjk1IDIuNDMzLTIuNjMgNS4zMTMtMi42ODkgOC4yNzdsLS42ODcgMzQuNzQ3LTMyLjg1IDExLjM3MmMtMi44MTEuOTczLTUuMjcgMi43Ni03LjA2MiA1LjEzNGwtMjAuOTQzIDI3LjcyNS0zMy4yNDktMTAuMTI4Yy0xLjQyNS0uNDM0LTIuODk4LS42NTEtNC4zNzEtLjY1MXMtMi45NDYuMjE3LTQuMzcxLjY1MWwtMzMuMjUgMTAuMTI3eiIvPjxwYXRoIGQ9Im00MzcgMTQ4LjE4M2MwLTQ0LjExMi0zNS44ODgtODAtODAtODBzLTgwIDM1Ljg4OC04MCA4MCAzNS44ODggODAgODAgODAgODAtMzUuODg4IDgwLTgwem0tMTMwIDBjMC0yNy41NyAyMi40My01MCA1MC01MHM1MCAyMi40MyA1MCA1MC0yMi40MyA1MC01MCA1MC01MC0yMi40My01MC01MHoiLz48cGF0aCBkPSJtNDY3LjYwNiAzMjUuMzk0Yy01Ljg1Ny01Ljg1OC0xNS4zNTUtNS44NTgtMjEuMjEzIDBsLTQwIDQwYy01Ljg1OCA1Ljg1OC01Ljg1OCAxNS4zNTUgMCAyMS4yMTMgNS44NTcgNS44NTggMTUuMzU1IDUuODU4IDIxLjIxMyAwbDEyLjg5MS0xMi44OTFjLTguNDQ0IDQ5LjQ5LTUxLjYzNiA4Ny4yODQtMTAzLjQ5NyA4Ny4yODRoLTIwYy04LjI4NCAwLTE1IDYuNzE2LTE1IDE1czYuNzE2IDE1IDE1IDE1aDIwYzY5LjI1NCAwIDEyNi40ODQtNTIuNDIgMTM0LjEyNC0xMTkuNjYzbDE1LjI3IDE1LjI3YzIuOTI4IDIuOTI5IDYuNzY3IDQuMzkzIDEwLjYwNiA0LjM5M3M3LjY3OC0xLjQ2NCAxMC42MDYtNC4zOTRjNS44NTgtNS44NTggNS44NTgtMTUuMzU1IDAtMjEuMjEzeiIvPjxwYXRoIGQ9Im00NC4zOTQgMTg2LjYwNmMyLjkyOCAyLjkzIDYuNzY3IDQuMzk0IDEwLjYwNiA0LjM5NHM3LjY3OC0xLjQ2NCAxMC42MDYtNC4zOTRsNDAtNDBjNS44NTgtNS44NTggNS44NTgtMTUuMzU1IDAtMjEuMjEzLTUuODU3LTUuODU4LTE1LjM1NS01Ljg1OC0yMS4yMTMgMGwtMTIuODkxIDEyLjg5MWM4LjQ0NS00OS40OSA1MS42MzctODcuMjg0IDEwMy40OTgtODcuMjg0aDIwYzguMjg0IDAgMTUtNi43MTYgMTUtMTVzLTYuNzE2LTE1LTE1LTE1aC0yMGMtNjkuMjU0IDAtMTI2LjQ4NCA1Mi40Mi0xMzQuMTI0IDExOS42NjNsLTE1LjI3LTE1LjI3Yy01Ljg1Ny01Ljg1OC0xNS4zNTUtNS44NTgtMjEuMjEzIDBzLTUuODU4IDE1LjM1NSAwIDIxLjIxM3oiLz48L2c+PC9zdmc+" />
      Toggle Mode</button>
</div>

<script>
    const btn = document.querySelector(".btn-toggle");
    const currentTheme = localStorage.getItem("theme");
    if (currentTheme == "light") {
      document.body.classList.add("light-mode");
    }

    btn.addEventListener("click", function () {
      document.body.classList.toggle("light-mode");

      let theme = "dark";
      if (document.body.classList.contains("light-mode")) {
        theme = "light";
      }
      localStorage.setItem("theme", theme);
        });
</script>